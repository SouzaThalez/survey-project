import{$ as Dn,A as yn,B as Mn,C as Pn,D as xe,E as Ne,F as Ze,G as Je,H as Pt,I as Ce,J as On,K as q,L as wn,M as kn,N as En,O as In,P as Ot,Q as Tn,R as Sn,S as J,T as Fn,U as ye,V as Xe,X as Rn,Y as Me,Z as An,_ as Pe,a as ln,aa as V,b as ge,ba as Nn,c as y,ca as X,d as Z,da as Ln,e as be,ea as Oe,f as cn,fa as Bn,g as fe,ga as Gn,h as dn,ha as qn,i as mn,ia as Vn,j as he,ja as Hn,k as pn,ka as we,l as un,la as ke,m as Ke,ma as zn,n as _n,o as gn,p as ve,q as bn,r as fn,s as yt,t as Mt,u as hn,v as Ye,w as vn,x as xn,y as De,z as Cn}from"./chunk-XY2N4D5Y.js";import{$ as Wt,$a as ae,Aa as gt,Ab as le,B as $t,Ba as bt,C as Ve,Ca as ft,D as jt,Da as ht,E as Ie,Ea as vt,Fa as m,Ga as r,Gb as G,Ha as o,Hb as N,I as Ut,Ia as x,Ib as tn,K as j,Kb as Qe,L as H,Lb as nn,Ma as Re,Mb as an,N as g,Na as Ae,Oa as M,P as b,Q as f,Qa as h,Ra as u,S as Te,Sa as Q,Sb as We,Ta as W,Tb as on,Ua as ne,Ub as rn,Va as F,Vb as Y,Wa as k,Wb as sn,Xa as E,Xb as Ct,Y as Qt,Z as He,_ as z,a as Nt,ab as Jt,b as Lt,bb as T,c as ee,cb as je,d as Bt,db as l,e as Ge,eb as v,fa as ze,fb as C,g as Gt,ga as c,gb as Xt,ha as $e,hb as me,i as qt,ib as pe,ja as Se,jb as ue,ka as I,la as Kt,lb as ie,mb as oe,na as P,nb as K,oa as U,ob as re,p as Vt,pa as $,pb as _e,q as qe,qa as Fe,qb as en,r as Ht,ra as _,rb as Ue,sa as Yt,ta as D,u as zt,ua as te,va as de,vb as xt,ya as Zt,yb as se,za as S,zb as w}from"./chunk-WOJ4QW3K.js";var et=()=>({exact:!0});function la(i,a){if(i&1){let e=M();r(0,"button",16),h("click",function(){b(e);let n=u();return f(n.panelOpen=!0)}),r(1,"span",17),l(2,"menu"),o()()}}function ca(i,a){if(i&1){let e=M();r(0,"div",18),h("click",function(){b(e);let n=u();return f(n.panelOpen=!1)}),o()}}function da(i,a){if(i&1){let e=M();r(0,"button",19),h("click",function(){b(e);let n=u();return f(n.panelOpen=!1)}),r(1,"span",17),l(2,"close"),o()()}}function ma(i,a){if(i&1){let e=M();r(0,"button",20),h("click",function(){b(e);let n=u();return f(n.toggleCollapsed())}),r(1,"span",17),l(2),o()()}if(i&2){let e=u();m("matTooltip",e.collapsed?"Expandir painel":"Recolher painel"),S("aria-label",e.collapsed?"Expandir painel":"Recolher painel"),c(2),v(e.collapsed?"chevron_right":"chevron_left")}}var tt=class i{constructor(a){this.bp=a}COLLAPSE_KEY="leftPanelCollapsed";subs=[];isHandset=!1;isNarrow=!1;panelOpen=!0;collapsed=!1;ngOnInit(){this.subs.push(this.bp.observe([Pn.Handset]).subscribe(a=>{this.isHandset=a.matches,this.isHandset&&(this.panelOpen=!1)})),this.subs.push(this.bp.observe(["(max-width: 800px)"]).subscribe(a=>{this.isNarrow=a.matches;let e=localStorage.getItem(this.COLLAPSE_KEY);e!==null?this.collapsed=e==="true":this.collapsed=this.isNarrow}))}ngOnDestroy(){this.subs.forEach(a=>a.unsubscribe())}toggleCollapsed(){this.collapsed=!this.collapsed;try{localStorage.setItem(this.COLLAPSE_KEY,String(this.collapsed))}catch{}}static \u0275fac=function(e){return new(e||i)(I(vn))};static \u0275cmp=P({type:i,selectors:[["app-left-panel"]],standalone:!1,decls:39,vars:19,consts:[["class","mobile-hamburger","mat-fab","","color","primary","aria-label","Abrir painel",3,"click",4,"ngIf"],["class","scrim",3,"click",4,"ngIf"],[1,"left-panel-container"],[1,"panel-header"],[1,"material-symbols-outlined","logo"],[1,"panel-title"],["mat-icon-button","","class","close-btn","aria-label","Fechar painel",3,"click",4,"ngIf"],["mat-icon-button","","class","collapse-btn",3,"matTooltip","click",4,"ngIf"],[1,"panel-list"],["routerLink","nova-prova","routerLinkActive","active","matTooltip","Nova prova",1,"list-item-container",3,"click","routerLinkActiveOptions"],[1,"material-symbols-outlined","li-icon"],[1,"li-text"],[1,"material-symbols-outlined","chev"],["routerLink","todas-prova","routerLinkActive","active","matTooltip","Provas criadas",1,"list-item-container",3,"click","routerLinkActiveOptions"],["routerLink","resultado-prova","routerLinkActive","active","matTooltip","Resultados prova",1,"list-item-container",3,"click","routerLinkActiveOptions"],["routerLink","painel-usuario","routerLinkActive","active","matTooltip","Painel Usu\xE1rios",1,"list-item-container",3,"click","routerLinkActiveOptions"],["mat-fab","","color","primary","aria-label","Abrir painel",1,"mobile-hamburger",3,"click"],[1,"material-symbols-outlined"],[1,"scrim",3,"click"],["mat-icon-button","","aria-label","Fechar painel",1,"close-btn",3,"click"],["mat-icon-button","",1,"collapse-btn",3,"click","matTooltip"]],template:function(e,t){e&1&&(_(0,la,3,0,"button",0)(1,ca,1,0,"div",1),r(2,"div",2)(3,"div",3)(4,"span",4),l(5,"assignment"),o(),r(6,"span",5),l(7,"Painel"),o(),_(8,da,3,0,"button",6)(9,ma,3,3,"button",7),o(),r(10,"div",8)(11,"a",9),h("click",function(){return t.isHandset?t.panelOpen=!1:null}),r(12,"span",10),l(13,"note_add"),o(),r(14,"span",11),l(15,"Nova prova"),o(),r(16,"span",12),l(17,"chevron_right"),o()(),r(18,"a",13),h("click",function(){return t.isHandset?t.panelOpen=!1:null}),r(19,"span",10),l(20,"folder_open"),o(),r(21,"span",11),l(22,"Provas criadas"),o(),r(23,"span",12),l(24,"chevron_right"),o()(),r(25,"a",14),h("click",function(){return t.isHandset?t.panelOpen=!1:null}),r(26,"span",10),l(27,"print"),o(),r(28,"span",11),l(29,"Resultados prova"),o(),r(30,"span",12),l(31,"chevron_right"),o()(),r(32,"a",15),h("click",function(){return t.isHandset?t.panelOpen=!1:null}),r(33,"span",10),l(34,"group"),o(),r(35,"span",11),l(36,"Painel de Usu\xE1rios"),o(),r(37,"span",12),l(38,"chevron_right"),o()()()()),e&2&&(m("ngIf",t.isHandset&&!t.panelOpen),c(),m("ngIf",t.isHandset&&t.panelOpen),c(),T("is-overlay",t.isHandset)("is-open",!t.isHandset||t.panelOpen)("is-collapsed",!t.isHandset&&t.collapsed),S("aria-expanded",t.isHandset?t.panelOpen:!t.collapsed),c(6),m("ngIf",t.isHandset),c(),m("ngIf",!t.isHandset),c(2),m("routerLinkActiveOptions",oe(15,et)),c(7),m("routerLinkActiveOptions",oe(16,et)),c(7),m("routerLinkActiveOptions",oe(17,et)),c(7),m("routerLinkActiveOptions",oe(18,et)))},dependencies:[N,Y,sn,Je,wn,Oe],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--topbar-h: 64px}.left-panel-container[_ngcontent-%COMP%]{--panel-w: 240px;--panel-bg: #ffffff;--panel-border: #e6e9ef;width:var(--panel-w);min-height:100%;background:var(--panel-bg);border-right:1px solid var(--panel-border);display:flex;flex-direction:column}.left-panel-container[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px 16px}.left-panel-container[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#3f51b5;font-size:22px;line-height:1;flex-shrink:0}.left-panel-container[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-weight:700;color:#1f2937;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.left-panel-container[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .left-panel-container[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{margin-left:auto}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]{display:grid;padding:6px}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:28px 1fr 20px;align-items:center;gap:8px;margin:4px 6px;padding:10px;border-radius:10px;color:inherit;text-decoration:none;transition:background .15s ease,color .15s ease}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]   .li-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]   .li-text[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]   .chev[_ngcontent-%COMP%]{color:#64748b;font-size:18px;justify-self:end;opacity:.6}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]:hover{background:#f3f5fb}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container.active[_ngcontent-%COMP%]{background:#e9eefc}.left-panel-container[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container.active[_ngcontent-%COMP%]   .chev[_ngcontent-%COMP%]{opacity:1}.left-panel-container.is-collapsed[_ngcontent-%COMP%]{--panel-w: 140px}.left-panel-container.is-collapsed[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{justify-content:center;gap:8px}.left-panel-container.is-collapsed[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{max-width:84px}.left-panel-container.is-collapsed[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]{grid-template-columns:1fr;justify-items:center;padding:10px 8px}.left-panel-container.is-collapsed[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]   .li-text[_ngcontent-%COMP%], .left-panel-container.is-collapsed[_ngcontent-%COMP%]   .panel-list[_ngcontent-%COMP%]   .list-item-container[_ngcontent-%COMP%]   .chev[_ngcontent-%COMP%]{display:none}.left-panel-container.is-overlay[_ngcontent-%COMP%]{position:fixed;top:var(--topbar-h);left:0;height:calc(100vh - var(--topbar-h));z-index:1000;box-shadow:0 10px 30px #0000003d;transform:translate(-100%);transition:transform .25s ease;--panel-w: 240px}.left-panel-container.is-overlay.is-open[_ngcontent-%COMP%]{transform:translate(0)}.scrim[_ngcontent-%COMP%]{position:fixed;top:var(--topbar-h);left:0;right:0;bottom:0;background:#00000052;z-index:900}.mobile-hamburger[_ngcontent-%COMP%]{position:fixed;top:calc(8px + env(safe-area-inset-top));left:12px;z-index:1100}.mobile-hamburger[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:22px}@media (max-width: 600px){.left-panel-container[_ngcontent-%COMP%]{--panel-w: 220px}}']})};var at=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-private"]],standalone:!1,decls:4,vars:0,consts:[[1,"content"],[1,"main-content"]],template:function(e,t){e&1&&(r(0,"div",0),x(1,"app-left-panel"),r(2,"div",1),x(3,"router-outlet"),o()())},dependencies:[on,tt],styles:[".content[_ngcontent-%COMP%]{height:100%;display:flex}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}"]})};var Tt=["*"];function ga(i,a){i&1&&W(0)}var ba=["tabListContainer"],fa=["tabList"],ha=["tabListInner"],va=["nextPaginator"],xa=["previousPaginator"],Ca=["content"];function ya(i,a){}var Ma=["tabBodyWrapper"],Pa=["tabHeader"];function Oa(i,a){}function wa(i,a){if(i&1&&_(0,Oa,0,0,"ng-template",12),i&2){let e=u().$implicit;m("cdkPortalOutlet",e.templateLabel)}}function ka(i,a){if(i&1&&l(0),i&2){let e=u().$implicit;v(e.textLabel)}}function Ea(i,a){if(i&1){let e=M();r(0,"div",7,2),h("click",function(){let n=b(e),s=n.$implicit,d=n.$index,p=u(),O=ae(1);return f(p._handleClick(s,O,d))})("cdkFocusChange",function(n){let s=b(e).$index,d=u();return f(d._tabFocusChanged(n,s))}),x(2,"span",8)(3,"div",9),r(4,"span",10)(5,"span",11),gt(6,wa,1,1,null,12)(7,ka,1,1),o()()()}if(i&2){let e=a.$implicit,t=a.$index,n=ae(1),s=u();je(e.labelClass),T("mdc-tab--active",s.selectedIndex===t),m("id",s._getTabLabelId(e,t))("disabled",e.disabled)("fitInkBarToContent",s.fitInkBarToContent),S("tabIndex",s._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(t))("aria-selected",s.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),c(3),m("matRippleTrigger",n)("matRippleDisabled",e.disabled||s.disableRipple),c(3),bt(e.templateLabel?6:7)}}function Ia(i,a){i&1&&W(0)}function Ta(i,a){if(i&1){let e=M();r(0,"mat-tab-body",13),h("_onCentered",function(){b(e);let n=u();return f(n._removeTabBodyWrapperHeight())})("_onCentering",function(n){b(e);let s=u();return f(s._setTabBodyWrapperHeight(n))})("_beforeCentering",function(n){b(e);let s=u();return f(s._bodyCentered(n))}),o()}if(i&2){let e=a.$implicit,t=a.$index,n=u();je(e.bodyClass),m("id",n._getTabContentId(t))("content",e.content)("position",e.position)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),S("tabindex",n.contentTabIndex!=null&&n.selectedIndex===t?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(e,t))("aria-hidden",n.selectedIndex!==t)}}var Sa=new H("MatTabContent"),Fa=(()=>{class i{template=g($e);constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=$({type:i,selectors:[["","matTabContent",""]],features:[ie([{provide:Sa,useExisting:i}])]})}return i})(),Ra=new H("MatTabLabel"),Wn=new H("MAT_TAB"),Aa=(()=>{class i extends In{_closestTab=g(Wn,{optional:!0});static \u0275fac=(()=>{let e;return function(n){return(e||(e=He(i)))(n||i)}})();static \u0275dir=$({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ie([{provide:Ra,useExisting:i}]),Fe]})}return i})(),Kn=new H("MAT_TAB_GROUP"),St=(()=>{class i{_viewContainerRef=g(Kt);_closestTabGroup=g(Kn,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Ge;position=null;origin=null;isActive=!1;constructor(){g(Ye).load(Ze)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new En(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["mat-tab"]],contentQueries:function(t,n,s){if(t&1&&(ne(s,Aa,5),ne(s,Fa,7,$e)),t&2){let d;k(d=E())&&(n.templateLabel=d.first),k(d=E())&&(n._explicitContent=d.first)}},viewQuery:function(t,n){if(t&1&&F($e,7),t&2){let s;k(s=E())&&(n._implicitContent=s.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(t,n){t&2&&S("id",null)},inputs:{disabled:[2,"disabled","disabled",w],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[ie([{provide:Wn,useExisting:i}]),Qt],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,n){t&1&&(Q(),Yt(0,ga,1,0,"ng-template"))},encapsulation:2})}return i})(),wt="mdc-tab-indicator--active",jn="mdc-tab-indicator--no-transition",kt=class{_items;_currentItem;constructor(a){this._items=a}hide(){this._items.forEach(a=>a.deactivateInkBar()),this._currentItem=void 0}alignToElement(a){let e=this._items.find(n=>n.elementRef.nativeElement===a),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let n=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(n),this._currentItem=e}}},Da=(()=>{class i{_elementRef=g(z);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(wt);return}let n=t.getBoundingClientRect(),s=e.width/n.width,d=e.left-n.left;t.classList.add(jn),this._inkBarContentElement.style.setProperty("transform",`translateX(${d}px) scaleX(${s})`),t.getBoundingClientRect(),t.classList.remove(jn),t.classList.add(wt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(wt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),n=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",n.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=$({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",w]}})}return i})();var Yn=(()=>{class i extends Da{elementRef=g(z);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(n){return(e||(e=He(i)))(n||i)}})();static \u0275dir=$({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,n){t&2&&(S("aria-disabled",!!n.disabled),T("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:[2,"disabled","disabled",w]},features:[Fe]})}return i})(),Un={passive:!0},Na=650,La=100,Ba=(()=>{class i{_elementRef=g(z);_changeDetectorRef=g(se);_viewportRuler=g(Sn);_dir=g(Pt,{optional:!0});_ngZone=g(te);_platform=g(yt);_sharedResizeObserver=g(Fn);_injector=g(Te);_renderer=g(Se);_animationsDisabled=xe();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Ge;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Ge;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}_selectedIndex=0;selectFocusedIndex=new D;indexFocused=new D;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Un),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Un))}ngAfterContentInit(){let e=this._dir?this._dir.change:qt("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(zt(32),Ie(this._destroyed)),n=this._viewportRuler.change(150).pipe(Ie(this._destroyed)),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new yn(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),de(s,{injector:this._injector}),qe(e,n,t,this._items.changes,this._itemsResized()).pipe(Ie(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(d=>{this.indexFocused.emit(d),this._setTabFocus(d)})}_itemsResized(){return typeof ResizeObserver!="function"?Gt:this._items.changes.pipe(Ve(this._items),jt(e=>new Bt(t=>this._ngZone.runOutsideAngular(()=>{let n=new ResizeObserver(s=>t.next(s));return e.forEach(s=>n.observe(s.elementRef.nativeElement)),()=>{n.disconnect()}}))),$t(1),Ht(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Cn(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,n=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+n)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:d}=t.elementRef.nativeElement,p,O;this._getLayoutDirection()=="ltr"?(p=s,O=p+d):(O=this._tabListInner.nativeElement.offsetWidth-s,p=O-d);let R=this.scrollDistance,A=this.scrollDistance+n;p<R?this.scrollDistance-=R-p:O>A&&(this.scrollDistance+=Math.min(O-A,p-R))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,n=e-t>=5;n||(this.scrollDistance=0),n!==this._showPaginationControls&&(this._showPaginationControls=n,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),Vt(Na,La).pipe(Ie(qe(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:n,distance:s}=this._scrollHeader(e);(s===0||s>=n)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}static \u0275fac=function(t){return new(t||i)};static \u0275dir=$({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",w],selectedIndex:[2,"selectedIndex","selectedIndex",le]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return i})(),Ga=(()=>{class i extends Ba{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new kt(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=He(i)))(n||i)}})();static \u0275cmp=P({type:i,selectors:[["mat-tab-header"]],contentQueries:function(t,n,s){if(t&1&&ne(s,Yn,4),t&2){let d;k(d=E())&&(n._items=d)}},viewQuery:function(t,n){if(t&1&&(F(ba,7),F(fa,7),F(ha,7),F(va,5),F(xa,5)),t&2){let s;k(s=E())&&(n._tabListContainer=s.first),k(s=E())&&(n._tabList=s.first),k(s=E())&&(n._tabListInner=s.first),k(s=E())&&(n._nextPaginator=s.first),k(s=E())&&(n._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,n){t&2&&T("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl",n._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",w]},features:[Fe],ngContentSelectors:Tt,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,n){if(t&1){let s=M();Q(),r(0,"div",5,0),h("click",function(){return b(s),f(n._handlePaginatorClick("before"))})("mousedown",function(p){return b(s),f(n._handlePaginatorPress("before",p))})("touchend",function(){return b(s),f(n._stopInterval())}),x(2,"div",6),o(),r(3,"div",7,1),h("keydown",function(p){return b(s),f(n._handleKeydown(p))}),r(5,"div",8,2),h("cdkObserveContent",function(){return b(s),f(n._onContentChanges())}),r(7,"div",9,3),W(9),o()()(),r(10,"div",10,4),h("mousedown",function(p){return b(s),f(n._handlePaginatorPress("after",p))})("click",function(){return b(s),f(n._handlePaginatorClick("after"))})("touchend",function(){return b(s),f(n._stopInterval())}),x(12,"div",6),o()}t&2&&(T("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),m("matRippleDisabled",n._disableScrollBefore||n.disableRipple),c(3),T("_mat-animation-noopable",n._animationsDisabled),c(2),S("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null),c(5),T("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),m("matRippleDisabled",n._disableScrollAfter||n.disableRipple))},dependencies:[Ne,xn],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return i})(),qa=new H("MAT_TABS_CONFIG"),Qn=(()=>{class i extends Ot{_host=g(Et);_ngZone=g(te);_centeringSub=ee.EMPTY;_leavingSub=ee.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ve(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=$({type:i,selectors:[["","matTabBodyHost",""]],features:[Fe]})}return i})(),Et=(()=>{class i{_elementRef=g(z);_dir=g(Pt,{optional:!0});_ngZone=g(te);_injector=g(Te);_renderer=g(Se);_diAnimationsDisabled=xe();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=ee.EMPTY;_position;_previousPosition;_onCentering=new D;_beforeCentering=new D;_afterLeavingCenter=new D;_onCentered=new D(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=g(se);this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),de(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,t=n=>{n.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),n.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",n=>{n.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",t),this._renderer.listen(e,"transitioncancel",t)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),de(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["mat-tab-body"]],viewQuery:function(t,n){if(t&1&&(F(Qn,5),F(Ca,5)),t&2){let s;k(s=E())&&(n._portalHost=s.first),k(s=E())&&(n._contentElement=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(t,n){t&2&&S("inert",n._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,n){t&1&&(r(0,"div",1,0),_(2,ya,0,0,"ng-template",2),o()),t&2&&T("mat-tab-body-content-left",n._position==="left")("mat-tab-body-content-right",n._position==="right")("mat-tab-body-content-can-animate",n._position==="center"||n._previousPosition==="center")},dependencies:[Qn,Tn],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return i})(),Zn=(()=>{class i{_elementRef=g(z);_changeDetectorRef=g(se);_ngZone=g(te);_tabsSubscription=ee.EMPTY;_tabLabelSubscription=ee.EMPTY;_tabBodySubscription=ee.EMPTY;_diAnimationsDisabled=xe();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Wt;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new D;focusChange=new D;animationDone=new D;selectedTabChange=new D(!0);_groupId;_isServer=!g(yt).isBrowser;constructor(){let e=g(qa,{optional:!0});this._groupId=g(De).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((n,s)=>n.isActive=s===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,n)=>{t.position=n-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),n;for(let s=0;s<t.length;s++)if(t[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,n=t[s];break}!n&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ve(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new It;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=qe(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,t){return e.id||`${this._groupId}-label-${t}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,t,n){t.focusIndex=n,e.disabled||(this.selectedIndex=n)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}_bodyCentered(e){e&&this._tabBodies?.forEach((t,n)=>t._setActiveClass(n===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["mat-tab-group"]],contentQueries:function(t,n,s){if(t&1&&ne(s,St,5),t&2){let d;k(d=E())&&(n._allTabs=d)}},viewQuery:function(t,n){if(t&1&&(F(Ma,5),F(Pa,5),F(Et,5)),t&2){let s;k(s=E())&&(n._tabBodyWrapper=s.first),k(s=E())&&(n._tabHeader=s.first),k(s=E())&&(n._tabBodies=s)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(t,n){t&2&&(S("mat-align-tabs",n.alignTabs),je("mat-"+(n.color||"primary")),Jt("--mat-tab-animation-duration",n.animationDuration),T("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header",n.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",n.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",w],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",w],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",w],selectedIndex:[2,"selectedIndex","selectedIndex",le],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",le],disablePagination:[2,"disablePagination","disablePagination",w],disableRipple:[2,"disableRipple","disableRipple",w],preserveContent:[2,"preserveContent","preserveContent",w],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[ie([{provide:Kn,useExisting:i}])],ngContentSelectors:Tt,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(t,n){if(t&1){let s=M();Q(),r(0,"mat-tab-header",3,0),h("indexFocused",function(p){return b(s),f(n._focusChanged(p))})("selectFocusedIndex",function(p){return b(s),f(n.selectedIndex=p)}),ht(2,Ea,8,17,"div",4,ft),o(),gt(4,Ia,1,0),r(5,"div",5,1),ht(7,Ta,1,10,"mat-tab-body",6,ft),o()}t&2&&(m("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),Zt("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),c(2),vt(n._tabs),c(2),bt(n._isServer?4:-1),c(),T("_mat-animation-noopable",n._animationsDisabled()),c(2),vt(n._tabs))},dependencies:[Ga,Yn,hn,Ne,Ot,Et],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return i})(),It=class{index;tab};var Jn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=U({type:i});static \u0275inj=j({imports:[Ce,Ce]})}return i})();function Ha(i,a){if(i&1&&(r(0,"mat-option",11),l(1),o()),i&2){let e=a.$implicit;m("value",e),c(),v(e)}}function za(i,a){i&1&&(r(0,"mat-error"),l(1," Informe um nome v\xE1lido (m\xEDn. 3 caracteres). "),o())}function $a(i,a){if(i&1&&(r(0,"mat-option",11),l(1),o()),i&2){let e=a.$implicit;m("value",e.value),c(),v(e.label)}}function ja(i,a){i&1&&(r(0,"mat-error"),l(1," Selecione um treinamento. "),o())}function Ua(i,a){if(i&1&&(r(0,"mat-option",11),l(1),o()),i&2){let e=a.$implicit;m("value",e),c(),v(e)}}function Qa(i,a){i&1&&(r(0,"mat-error"),l(1," Selecione a quantidade de itens. "),o())}function Wa(i,a){if(i&1&&(r(0,"mat-option",11),l(1),o()),i&2){let e=a.$implicit;m("value",e),c(),v(e)}}function Ka(i,a){i&1&&(r(0,"mat-error"),l(1," Selecione a quantidade de op\xE7\xF5es. "),o())}function Ya(i,a){if(i&1&&(r(0,"div",33)(1,"mat-form-field",34)(2,"mat-label"),l(3),o(),x(4,"input",35),o()()),i&2){let e=a.index;m("formGroupName",e),c(3),C("Valor da op\xE7\xE3o #",e+1)}}function Za(i,a){i&1&&(r(0,"mat-error"),l(1," Informe o caso cl\xEDnico. "),o())}function Ja(i,a){i&1&&(r(0,"mat-error"),l(1," Informe as regras e orienta\xE7\xF5es. "),o())}function Xa(i,a){if(i&1&&(r(0,"div",36)(1,"strong"),l(2,"Link gerado:"),o(),r(3,"a",37),l(4),o()()),i&2){let e=u().index,t=u(2);c(3),m("href",t.lastShareUrlByIndex[e],ze),c(),C(" ",t.lastShareUrlByIndex[e]," ")}}function ei(i,a){if(i&1&&(r(0,"div",43)(1,"div",44),l(2),o()()),i&2){let e=u(2).$implicit;c(2),C(" ",e.controls.clinicalCase.value," ")}}function ti(i,a){i&1&&(r(0,"mat-error"),l(1," Enunciado obrigat\xF3rio (m\xEDn. 3 caracteres). "),o())}function ni(i,a){if(i&1&&(r(0,"div",45)(1,"div",46)(2,"div",47),l(3),o()(),r(4,"mat-form-field",48)(5,"mat-label"),l(6,"Enunciado"),o(),x(7,"textarea",49),_(8,ti,2,0,"mat-error",19),o()()),i&2){let e=a.$implicit,t=a.index;m("formGroupName",t),c(3),C("Item - ",t+1),c(5),m("ngIf",e.controls.text.touched&&e.controls.text.invalid)}}function ai(i,a){if(i&1&&(r(0,"div",38),Re(1,39),_(2,ei,3,1,"div",40),r(3,"div",41),_(4,ni,9,3,"div",42),o(),Ae(),o()),i&2){let e=u(),t=e.$implicit,n=e.index,s=u(2);c(),m("formGroup",t),c(),m("ngIf",t.controls.clinicalCase.value),c(2),m("ngForOf",s.itemsArray(n).controls)("ngForTrackBy",s.trackByIndex)}}function ii(i,a){if(i&1){let e=M();r(0,"mat-tab",14)(1,"div",15)(2,"div",16)(3,"mat-form-field",17)(4,"mat-label"),l(5,"Nome da prova"),o(),x(6,"input",18),_(7,za,2,0,"mat-error",19),o(),r(8,"mat-form-field",17)(9,"mat-label"),l(10,"Treinamento de habilidade"),o(),r(11,"mat-select",20),_(12,$a,2,2,"mat-option",6),o(),_(13,ja,2,0,"mat-error",19),o(),r(14,"mat-form-field",17)(15,"mat-label"),l(16,"N\xFAmero de itens"),o(),r(17,"mat-select",21),_(18,Ua,2,2,"mat-option",6),o(),_(19,Qa,2,0,"mat-error",19),o(),r(20,"mat-form-field",17)(21,"mat-label"),l(22,"N\xFAmero de op\xE7\xF5es (todos os itens)"),o(),r(23,"mat-select",22),_(24,Wa,2,2,"mat-option",6),o(),_(25,Ka,2,0,"mat-error",19),o(),r(26,"div",23),_(27,Ya,5,2,"div",24),o()(),r(28,"div",25)(29,"mat-form-field",26)(30,"mat-label"),l(31,"Caso cl\xEDnico"),o(),x(32,"textarea",27),_(33,Za,2,0,"mat-error",19),o(),r(34,"mat-form-field",26)(35,"mat-label"),l(36,"Regras e orienta\xE7\xF5es da prova"),o(),x(37,"textarea",28),_(38,Ja,2,0,"mat-error",19),o()(),r(39,"div",29)(40,"button",8),h("click",function(){let n=b(e).index,s=u(2);return f(s.generateOne(n))}),r(41,"mat-icon"),l(42,"link"),o(),l(43," Gerar esta "),o(),r(44,"div",30)(45,"span"),l(46),o(),r(47,"span"),l(48),o()()(),_(49,Xa,5,2,"div",31),o(),_(50,ai,5,4,"div",32),o()}if(i&2){let e=a.$implicit,t=a.index,n=u(2);m("label","Prova "+(t+1)),c(),m("formGroup",e),c(6),m("ngIf",e.controls.examName.touched&&e.controls.examName.invalid),c(5),m("ngForOf",n.trainingOptions),c(),m("ngIf",e.controls.skillTraining.touched&&e.controls.skillTraining.invalid),c(5),m("ngForOf",n.itemCountOptions),c(),m("ngIf",e.controls.itemsCount.touched&&e.controls.itemsCount.invalid),c(5),m("ngForOf",n.optionsCountChoices),c(),m("ngIf",e.controls.optionsCount.touched&&e.controls.optionsCount.invalid),c(2),m("ngForOf",n.globalOptionsArray(t).controls),c(6),m("ngIf",e.controls.clinicalCase.touched&&e.controls.clinicalCase.invalid),c(5),m("ngIf",e.controls.examRules.touched&&e.controls.examRules.invalid),c(8),C("Total de itens: ",n.itemsArray(t).length),c(2),C("Total de pontos: ",n.totalPointsFor(t)),c(),m("ngIf",n.lastShareUrlByIndex[t]),c(),m("ngIf",n.itemsArray(t).length>0)}}function oi(i,a){if(i&1){let e=M();r(0,"mat-tab-group",12),ue("selectedIndexChange",function(n){b(e);let s=u();return pe(s.selectedIndex,n)||(s.selectedIndex=n),f(n)}),_(1,ii,51,16,"mat-tab",13),o()}if(i&2){let e=u();me("selectedIndex",e.selectedIndex),c(),m("ngForOf",e.examsArray.controls)}}var it=class i{constructor(a,e){this.fb=a;this.snack=e;this.form=this.fb.nonNullable.group({examCount:this.fb.control(1,{nonNullable:!0,validators:[y.min(1),y.max(5)]}),exams:this.fb.array([])}),this.loadFromStorage(),this.resizeExams(this.form.controls.examCount.value)}STORAGE_KEY="generatedExams";form;selectedIndex=0;examCountOptions=[1,2,3,4,5];trainingOptions=[{value:"th1",label:"Treinamento - 1 (TH 1)"},{value:"th2",label:"Treinamento - 2 (TH 2)"},{value:"th3",label:"Treinamento - 3 (TH 3)"},{value:"th4",label:"Treinamento - 4 (TH 4)"},{value:"th5",label:"Treinamento - 5 (TH 5)"},{value:"th6",label:"Treinamento - 6 (TH 6)"},{value:"th7",label:"Treinamento - 7 (TH 7)"},{value:"th8",label:"Treinamento - 8 (TH 8)"}];itemCountOptions=[3,5,10,15];optionsCountChoices=[2,3,4,5];generatedExams=[];lastShareUrlByIndex={};subs=[];examSubs=[];ngOnInit(){this.subs.push(this.form.controls.examCount.valueChanges.subscribe(a=>{this.resizeExams(a??1)}))}ngOnDestroy(){this.subs.forEach(a=>a.unsubscribe()),this.examSubs.flat().forEach(a=>a.unsubscribe())}get examsArray(){return this.form.controls.exams}itemsArray(a){return this.examsArray.at(a).controls.items}globalOptionsArray(a){return this.examsArray.at(a).controls.globalOptions}createGlobalOption(a){return this.fb.nonNullable.group({value:this.fb.control(a,[y.required,y.min(0)])})}createItemGroup(){return this.fb.nonNullable.group({text:this.fb.control("",[y.required,y.minLength(3)])})}createExamForm(){let a=this.fb.nonNullable.group({examName:this.fb.control(null,[y.required,y.minLength(3)]),skillTraining:this.fb.control(null,y.required),itemsCount:this.fb.control(3,y.required),optionsCount:this.fb.control(3,y.required),globalOptions:this.fb.array([]),clinicalCase:this.fb.control(null,y.required),items:this.fb.array([]),examRules:this.fb.control("",{nonNullable:!0,validators:[y.required]})}),e=[];return e.push(a.controls.itemsCount.valueChanges.subscribe(t=>{let n=a.controls.items,s=t??0,d=n.length;if(s>d)for(let p=d;p<s;p++)n.push(this.createItemGroup());else for(let p=d-1;p>=s;p--)n.removeAt(p)}),a.controls.optionsCount.valueChanges.subscribe(t=>{let n=a.controls.globalOptions,s=t??0,d=n.length;if(s>d)for(let p=d;p<s;p++)n.push(this.createGlobalOption(p));else for(let p=d-1;p>=s;p--)n.removeAt(p)})),a.controls.itemsCount.setValue(a.controls.itemsCount.value??3,{emitEvent:!0}),a.controls.optionsCount.setValue(a.controls.optionsCount.value??3,{emitEvent:!0}),this.examSubs.push(e),a}resizeExams(a){let e=this.examsArray,t=e.length;if(t<a)for(let n=t;n<a;n++)e.push(this.createExamForm());else if(t>a)for(let n=t-1;n>=a;n--)(this.examSubs[n]??[]).forEach(d=>d.unsubscribe()),this.examSubs.splice(n,1),e.removeAt(n);this.selectedIndex=Math.min(this.selectedIndex,this.examsArray.length-1)}maxGlobalOptionOf(a){let e=this.globalOptionsArray(a).controls.map(t=>Number(t.controls.value.value??0));return e.length?Math.max(...e):0}totalPointsFor(a){return this.maxGlobalOptionOf(a)*this.itemsArray(a).length}loadFromStorage(){try{let a=localStorage.getItem(this.STORAGE_KEY);this.generatedExams=a?JSON.parse(a):[]}catch{this.generatedExams=[]}}persist(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.generatedExams))}catch{}}getShareUrl(a){return`${`${window.location.origin}/private/responder-prova`}?examId=${a}`}buildGeneratedFrom(a,e,t){let n=this.examsArray.at(a);if(!n.valid)return n.markAllAsTouched(),null;let s=this.maxGlobalOptionOf(a),d=this.globalOptionsArray(a).controls.map(L=>({value:L.controls.value.value})),p=this.itemsArray(a).controls.map(L=>({text:L.controls.text.value,options:d.map(ut=>({value:ut.value})),totalPoints:s})),O=s*p.length,R=Date.now()+a,A=n.getRawValue();return{id:R,createdAt:new Date().toISOString(),examName:A.examName,skillTraining:A.skillTraining,itemsCount:A.itemsCount,clinicalCase:A.clinicalCase,examRules:(A.examRules??"").trim(),totalPoints:O,items:p,shareUrl:"",groupId:e,groupSize:t,questions:p.map(L=>({text:L.text,options:L.options,totalPoints:L.totalPoints}))}}generateOne(a){let t=Date.now()+a,s=this.buildGeneratedFrom(a,t,1);if(!s){this.snack.open(`Revise os campos obrigat\xF3rios da Prova ${a+1}.`,"Ok",{duration:2500});return}s.shareUrl=this.getShareUrl(s.id),this.generatedExams.unshift(s),this.persist(),this.lastShareUrlByIndex[a]=s.shareUrl,this.snack.open(`Prova ${a+1} gerada e salva localmente!`,"Ok",{duration:2500})}generateAll(){let a=Date.now(),e=this.examsArray.length,t=0,n=0,s=[];for(let d=0;d<this.examsArray.length;d++){let p=this.buildGeneratedFrom(d,a,e);p?(t++,p.shareUrl=`${window.location.origin}/private/responder-prova?groupId=${a}`,s.push(p),this.lastShareUrlByIndex[d]=p.shareUrl):n++}s.length&&(this.generatedExams.unshift(...s),this.persist()),t&&!n?this.snack.open(`Todas as ${t} provas foram geradas!`,"Ok",{duration:2500}):t&&n?this.snack.open(`${t} prova(s) gerada(s), ${n} com pend\xEAncias.`,"Ok",{duration:3500}):this.snack.open("Nenhuma prova gerada. Revise os campos.","Ok",{duration:2500})}resetAll(){this.examSubs.flat().forEach(a=>a.unsubscribe()),this.examSubs=[],this.examsArray.clear(),this.form.controls.examCount.setValue(1,{emitEvent:!1}),this.resizeExams(1),this.lastShareUrlByIndex={},this.selectedIndex=0}trackByIndex=a=>a;static \u0275fac=function(e){return new(e||i)(I(ve),I(J))};static \u0275cmp=P({type:i,selectors:[["app-new-exam"]],standalone:!1,decls:22,vars:3,consts:[[1,"page-body",3,"ngSubmit","formGroup"],[1,"page-title"],[1,"page-description"],[1,"row-start"],["appearance","outline",1,"count-field"],["formControlName","examCount"],[3,"value",4,"ngFor","ngForOf"],[1,"row-actions"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-button","","type","button","color","warn",3,"click"],["class","multi-tabs",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[3,"value"],[1,"multi-tabs",3,"selectedIndexChange","selectedIndex"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"page-container",3,"formGroup"],[1,"form"],["appearance","outline"],["matInput","","formControlName","examName","placeholder","Ex.: Prova de Urg\xEAncia e Emerg\xEAncia"],[4,"ngIf"],["formControlName","skillTraining"],["formControlName","itemsCount"],["formControlName","optionsCount"],["formArrayName","globalOptions",1,"global-options"],["class","option-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form","text-area-form"],["appearance","outline",1,"text-area"],["matInput","","formControlName","clinicalCase","rows","8","placeholder","Descreva o caso cl\xEDnico..."],["matInput","","formControlName","examRules","rows","8","placeholder","Explique as regras e orienta\xE7\xF5es..."],[1,"footer"],[1,"totals"],["class","share",4,"ngIf"],["class","exam-container",4,"ngIf"],[1,"option-row",3,"formGroupName"],["appearance","outline",1,"option-points"],["matInput","","type","number","formControlName","value","min","0","step","0.5"],[1,"share"],["target","_blank","rel","noopener",3,"href"],[1,"exam-container"],[3,"formGroup"],["class","header",4,"ngIf"],["formArrayName","items",1,"exam-container-body"],["class","item-field",3,"formGroupName",4,"ngFor","ngForOf","ngForTrackBy"],[1,"header"],[1,"clinic-case"],[1,"item-field",3,"formGroupName"],[1,"q-head"],[1,"q-title"],["appearance","outline",1,"column-text-area"],["matInput","","formControlName","text","rows","4","placeholder","Descreva..."]],template:function(e,t){e&1&&(r(0,"form",0),h("ngSubmit",function(s){return s.preventDefault()}),r(1,"div",1)(2,"h2"),l(3,"Nova(s) prova(s)"),o()(),r(4,"div",2),l(5," Preencha os dados e gere um ou mais modelos automaticamente. "),o(),r(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),l(9,"Quantidade de provas"),o(),r(10,"mat-select",5),_(11,Ha,2,2,"mat-option",6),o()(),r(12,"div",7)(13,"button",8),h("click",function(){return t.generateAll()}),r(14,"mat-icon"),l(15,"library_add_check"),o(),l(16," Gerar todas "),o(),r(17,"button",9),h("click",function(){return t.resetAll()}),r(18,"mat-icon"),l(19,"refresh"),o(),l(20," Limpar tudo "),o()()(),_(21,oi,2,2,"mat-tab-group",10),o()),e&2&&(m("formGroup",t.form),c(11),m("ngForOf",t.examCountOptions),c(10),m("ngIf",t.examsArray.length))},dependencies:[G,N,Me,ye,Xe,Pe,ke,we,q,V,fe,ge,dn,Z,be,_n,he,Ke,pn,un,St,Zn],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.page-body[_ngcontent-%COMP%]{--card-border: #e3e6eb;--card-radius: 12px;--pad: 16px;display:grid;gap:16px;padding:16px}.page-body[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;letter-spacing:.2px}.page-body[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#5f6b7a;font-size:14px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]{max-width:1100px;width:100%;border:1px solid var(--card-border);border-radius:var(--card-radius);background:#fff;box-shadow:0 1px 2px #14141408;padding:var(--pad);display:grid;gap:12px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{grid-template-columns:1.1fr 1fr;align-items:start}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;gap:10px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]     .mat-form-field, .page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{min-height:230px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form.text-area-form[_ngcontent-%COMP%]{margin-left:10px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .global-options[_ngcontent-%COMP%]{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .global-options[_ngcontent-%COMP%]   .option-row[_ngcontent-%COMP%]{display:contents}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .global-options[_ngcontent-%COMP%]   .option-points[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .global-options[_ngcontent-%COMP%]     .mat-form-field{width:100%}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-wrap:wrap;align-items:center;gap:10px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{min-width:240px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:16px;color:#2f3a4a;font-weight:600}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{grid-column:1/-1;word-break:break-word;overflow-wrap:anywhere}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:underline}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .clinic-case[_ngcontent-%COMP%]{padding:8px 10px;background:#f7f9fc;border:1px solid var(--card-border);border-radius:10px;line-height:1.5;color:#2d3643;white-space:pre-wrap;word-break:break-word}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .item-field[_ngcontent-%COMP%]{border:1px solid var(--card-border);border-radius:10px;padding:12px;display:grid;gap:8px;background:#fff}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%]   .q-head[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .item-field[_ngcontent-%COMP%]   .q-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%]   .q-head[_ngcontent-%COMP%]   .q-title[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .item-field[_ngcontent-%COMP%]   .q-head[_ngcontent-%COMP%]   .q-title[_ngcontent-%COMP%]{font-weight:700;color:#1b2636}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%]     .mat-form-field, .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .item-field[_ngcontent-%COMP%]     .mat-form-field, .page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]   .item-field[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 900px){.page-body[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-top:70px}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]   .form.text-area-form[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 600px){.page-body[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{padding:12px}.page-body[_ngcontent-%COMP%]   .exam-container[_ngcontent-%COMP%]   .exam-container-body[_ngcontent-%COMP%]{gap:12px}}.page-body[_ngcontent-%COMP%]   .row-start[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.page-body[_ngcontent-%COMP%]   .row-start[_ngcontent-%COMP%]   .count-field[_ngcontent-%COMP%]{width:220px}.page-body[_ngcontent-%COMP%]   .row-start[_ngcontent-%COMP%]   .row-actions[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:8px}.page-body[_ngcontent-%COMP%]   .multi-tabs[_ngcontent-%COMP%]     .mat-mdc-tab .mdc-tab__text-label{font-weight:600}']})};var ri=()=>["/private/responder-prova"],si=i=>({groupId:i}),li=i=>({examId:i});function ci(i,a){if(i&1&&(r(0,"div",38)(1,"div",39),l(2,"Regras e orienta\xE7\xF5es da prova"),o(),r(3,"div",40),l(4),o()()),i&2){let e=u().$implicit;c(4),v(e.examRules)}}function di(i,a){if(i&1&&(r(0,"span",49),l(1),o()),i&2){let e=a.$implicit;c(),v(e)}}function mi(i,a){if(i&1&&(r(0,"div",45)(1,"span",46),l(2,"Op\xE7\xF5es:"),o(),r(3,"div",47),_(4,di,2,1,"span",48),o()()),i&2){let e=u().$implicit,t=u(2);c(4),m("ngForOf",t.optionHeaders(e))}}function pi(i,a){if(i&1&&(r(0,"div",50)(1,"div",51),l(2),o(),r(3,"div",52),l(4),o()()),i&2){let e=a.$implicit,t=a.index;c(2),C("",t+1,"."),c(2),v(e.text)}}function ui(i,a){if(i&1&&(r(0,"div",53),l(1),o()),i&2){let e=u().$implicit;c(),C(" + ",e.questions.length-5," mais\u2026 ")}}function _i(i,a){if(i&1&&(r(0,"div",54),l(1),o()),i&2){let e=u().$implicit;c(),C(" Existem mais ",e._groupCount-1," prova(s) criadas nesta se\xE7\xE3o. ")}}function gi(i,a){if(i&1){let e=M();r(0,"div",26)(1,"div",27)(2,"div",28),l(3),o(),r(4,"div",29)(5,"a",30)(6,"mat-icon"),l(7,"open_in_new"),o(),l(8," Responder "),o(),r(9,"a",31)(10,"mat-icon"),l(11,"edit"),o(),l(12," Editar "),o(),r(13,"a",32),h("click",function(){let n=b(e).$implicit,s=u(2);return f(s.deleteOne(n.id))}),r(14,"mat-icon"),l(15,"delete"),o(),l(16," Remover "),o()()(),_(17,ci,5,1,"div",33),r(18,"div",34)(19,"span")(20,"mat-icon"),l(21,"event"),o(),l(22),re(23,"date"),o(),r(24,"span")(25,"mat-icon"),l(26,"school"),o(),l(27),o(),r(28,"span")(29,"mat-icon"),l(30,"help"),o(),l(31),o(),r(32,"span")(33,"mat-icon"),l(34,"score"),o(),l(35),o()(),_(36,mi,5,1,"div",35),r(37,"div",36)(38,"button",37),h("click",function(){let n=b(e).$implicit,s=u(2);return f(s.copyLink(n))}),r(39,"mat-icon"),l(40,"link"),o(),l(41," Copiar link "),o()(),r(42,"div",38)(43,"div",39),l(44,"Caso cl\xEDnico"),o(),r(45,"div",40),l(46),o()(),r(47,"div",41),_(48,pi,5,2,"div",42),re(49,"slice"),_(50,ui,2,1,"div",43),o(),_(51,_i,2,1,"div",44),o()}if(i&2){let e=a.$implicit,t=u(2);c(3),v(e.examName||"Prova"),c(2),m("routerLink",oe(20,ri))("queryParams",e._groupCount>1?K(21,si,e._groupId):K(23,li,e.id)),c(12),m("ngIf",e.examRules),c(5),C(" ",_e(23,13,e.createdAt,"short")),c(5),C(" ",t.trainingLabel(e.skillTraining)),c(4),C(" ",e.questions.length||0," quest\xF5es"),c(4),C(" ",e.totalPoints," pontos"),c(),m("ngIf",t.optionHeaders(e).length),c(10),v(e.clinicalCase),c(2),m("ngForOf",en(49,16,e.questions,0,5)),c(2),m("ngIf",e.questions.length>5),c(),m("ngIf",e._groupCount>1)}}function bi(i,a){if(i&1&&(r(0,"div",24),_(1,gi,52,25,"div",25),o()),i&2){let e=u();c(),m("ngForOf",e.filtered)}}function fi(i,a){i&1&&(r(0,"div",55)(1,"h3"),l(2,"Nenhuma prova salva"),o(),r(3,"p"),l(4,"Crie uma nova em "),r(5,"a",56),l(6,"Nova prova"),o(),l(7,"."),o()())}var rt=class i{constructor(a){this.snack=a}STORAGE_KEY="generatedExams";exams=[];search="";trainingFilter="all";sortBy="newest";ngOnInit(){this.load()}toQuestions(a){return a.questions&&a.questions.length?a.questions:a.items&&a.items.length?a.items.map(e=>({text:e.text,options:e.options||[],totalPoints:e.totalPoints||0})):[]}load(){let a=[];try{let n=localStorage.getItem(this.STORAGE_KEY);a=n?JSON.parse(n):[]}catch{a=[]}let e=new Map;for(let n of a){let s=n.groupId??n.id;e.has(s)||e.set(s,[]),e.get(s).push(n)}for(let[n,s]of e)s.sort((d,p)=>d.id-p.id),e.set(n,s);let t=[];for(let[n,s]of e){let d=s[0],p=s.length,O=this.toQuestions(d),R=p>1?`${window.location.origin}/private/responder-prova?groupId=${n}`:d.shareUrl||`${window.location.origin}/private/responder-prova?examId=${d.id}`,A={id:d.id,createdAt:d.createdAt,examName:d.examName,skillTraining:d.skillTraining,clinicalCase:d.clinicalCase,examRules:d.examRules,totalPoints:d.totalPoints,questions:O,shareUrl:R,_groupId:n,_groupCount:p,_ids:s.map(ce=>ce.id)};t.push(A)}this.exams=t,this.sortList()}persistCardsToStorage(){try{let a=localStorage.getItem(this.STORAGE_KEY),e=a?JSON.parse(a):[],t=new Set(this.exams.flatMap(s=>s._ids)),n=e.filter(s=>t.has(s.id));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}catch{}}get filtered(){let a=[...this.exams];this.trainingFilter!=="all"&&(a=a.filter(t=>t.skillTraining===this.trainingFilter));let e=this.search.trim().toLowerCase();switch(e&&(a=a.filter(t=>{let n=(t.examName||"").toLowerCase().includes(e),s=(t.clinicalCase||"").toLowerCase().includes(e),d=(t.examRules||"").toLowerCase().includes(e),p=(t.questions||[]).some(O=>(O.text||"").toLowerCase().includes(e));return n||s||d||p})),this.sortBy){case"oldest":a.sort((t,n)=>t.id-n.id);break;case"name":a.sort((t,n)=>(t.examName||"").localeCompare(n.examName||""));break;default:a.sort((t,n)=>n.id-t.id)}return a}clearAll(){this.exams=[];try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify([]))}catch{}this.snack.open("Todas as provas foram removidas.","Ok",{duration:2e3})}deleteOne(a){let e=this.exams.findIndex(t=>t.id===a);e<0||(this.exams.splice(e,1),this.persistCardsToStorage(),this.snack.open("Prova(s) removida(s).","Ok",{duration:1500}))}trainingLabel(a){return a?{th1:"Treinamento - 1 (TH 1)",th2:"Treinamento - 2 (TH 2)",th3:"Treinamento - 3 (TH 3)",th4:"Treinamento - 4 (TH 4)",th5:"Treinamento - 5 (TH 5)",th6:"Treinamento - 6 (TH 6)",th7:"Treinamento - 7 (TH 7)",th8:"Treinamento - 8 (TH 8)"}[a]||a:"\u2014"}makeShareUrl(a){return a.shareUrl}copyLink(a){let e=this.makeShareUrl(a);navigator.clipboard?.writeText?navigator.clipboard.writeText(e).then(()=>this.snack.open("Link copiado!","Ok",{duration:1500}),()=>this.snack.open(e,"Ok",{duration:3e3})):this.snack.open(e,"Ok",{duration:3e3})}optionHeaders(a){let e=a.questions?.[0];return!e||!e.options?.length?[]:e.options.map(t=>{let n=Number(t.value??0);return`${n} ponto${n===1?"":"s"}`})}sortList(){switch(this.sortBy){case"oldest":this.exams.sort((a,e)=>a.id-e.id);break;case"name":this.exams.sort((a,e)=>(a.examName||"").localeCompare(e.examName||""));break;default:this.exams.sort((a,e)=>e.id-a.id)}}static \u0275fac=function(e){return new(e||i)(I(J))};static \u0275cmp=P({type:i,selectors:[["app-all-exam"]],standalone:!1,decls:50,vars:5,consts:[["emptyState",""],[1,"all-page"],[1,"paper"],[1,"header-line"],[1,"toolbar"],["appearance","outline",1,"search"],["matInput","","placeholder","Nome, caso cl\xEDnico ou enunciado...",3,"ngModelChange","ngModel"],["appearance","outline",1,"filter"],[3,"ngModelChange","ngModel"],["value","all"],["value","th1"],["value","th2"],["value","th3"],["value","th4"],["value","th5"],["value","th6"],["value","th7"],["value","th8"],["appearance","outline",1,"sorter"],["value","newest"],["value","oldest"],["value","name"],["mat-stroked-button","","color","warn",3,"click"],["class","cards",4,"ngIf","ngIfElse"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"title"],[1,"actions"],["mat-stroked-button","","color","primary","target","_blank",3,"routerLink","queryParams"],["mat-stroked-button","","color","primary"],["mat-stroked-button","","matTooltip","Excluir prova",1,"btn-remove",3,"click"],["class","case",4,"ngIf"],[1,"meta"],["class","options-head",4,"ngIf"],[1,"copy-link"],["mat-button","",3,"click"],[1,"case"],[1,"case-title"],[1,"case-text"],[1,"questions"],["class","q",4,"ngFor","ngForOf"],["class","more",4,"ngIf"],["class","bundle-foot",4,"ngIf"],[1,"options-head"],[1,"label"],[1,"chips"],["class","chip",4,"ngFor","ngForOf"],[1,"chip"],[1,"q"],[1,"idx"],[1,"txt"],[1,"more"],[1,"bundle-foot"],[1,"empty"],["routerLink","/private/nova-prova"]],template:function(e,t){if(e&1){let n=M();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),l(4,"Provas Criadas"),o(),r(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),l(8,"Buscar"),o(),r(9,"input",6),ue("ngModelChange",function(d){return b(n),pe(t.search,d)||(t.search=d),f(d)}),o()(),r(10,"mat-form-field",7)(11,"mat-label"),l(12,"Treinamento"),o(),r(13,"mat-select",8),ue("ngModelChange",function(d){return b(n),pe(t.trainingFilter,d)||(t.trainingFilter=d),f(d)}),r(14,"mat-option",9),l(15,"Todos"),o(),r(16,"mat-option",10),l(17,"TH 1"),o(),r(18,"mat-option",11),l(19,"TH 2"),o(),r(20,"mat-option",12),l(21,"TH 3"),o(),r(22,"mat-option",13),l(23,"TH 4"),o(),r(24,"mat-option",14),l(25,"TH 5"),o(),r(26,"mat-option",15),l(27,"TH 6"),o(),r(28,"mat-option",16),l(29,"TH 7"),o(),r(30,"mat-option",17),l(31,"TH 8"),o()()(),r(32,"mat-form-field",18)(33,"mat-label"),l(34,"Ordenar"),o(),r(35,"mat-select",8),ue("ngModelChange",function(d){return b(n),pe(t.sortBy,d)||(t.sortBy=d),f(d)}),r(36,"mat-option",19),l(37,"Mais recente"),o(),r(38,"mat-option",20),l(39,"Mais antiga"),o(),r(40,"mat-option",21),l(41,"Nome (A\u2013Z)"),o()()(),r(42,"button",22),h("click",function(){return b(n),f(t.clearAll())}),r(43,"mat-icon"),l(44,"delete_sweep"),o(),l(45," Remover tudo "),o()()(),x(46,"mat-divider"),_(47,bi,2,1,"div",23)(48,fi,8,0,"ng-template",null,0,Ue),o()()}if(e&2){let n=ae(49);c(9),me("ngModel",t.search),c(4),me("ngModel",t.trainingFilter),c(22),me("ngModel",t.sortBy),c(12),m("ngIf",t.filtered.length)("ngIfElse",n)}},dependencies:[G,N,Y,Me,ye,Pe,ke,we,q,V,ge,Z,cn,X,Oe,nn,Qe],styles:['@charset "UTF-8";.all-page[_ngcontent-%COMP%]{background:#f2f2f2;min-height:100vh;padding:24px}.all-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 8px 24px #00000014;padding:20px 22px}.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:700}.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 220px 180px auto;gap:10px;align-items:center}.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .sorter[_ngcontent-%COMP%]{width:100%}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{margin-top:18px;display:grid;gap:14px;grid-template-columns:1fr}@media (min-width: 810px){.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}}@media (max-width: 360px){.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #e6e9ef;border-radius:12px;padding:14px 14px 12px;background:#fff}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:12px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#1f2937}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{color:#c75c5c}@media (max-width: 800px){.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:flex-end}}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;margin-top:8px;color:#4b5563}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .options-head[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:10px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .options-head[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-weight:600}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .options-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .options-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:3px 10px;font-size:12px;color:#374151}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]{margin-top:10px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .case[_ngcontent-%COMP%]{margin-top:12px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .case[_ngcontent-%COMP%]   .case-title[_ngcontent-%COMP%]{font-weight:600;color:#374151;margin-bottom:6px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .case[_ngcontent-%COMP%]   .case-text[_ngcontent-%COMP%]{display:block;background:#f8f9fa;border:1px solid #e0e4ea;border-radius:8px;padding:12px;line-height:1.55;white-space:pre-wrap;word-break:break-word}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]{margin-top:12px;border-top:1px dashed #e6e9ef;padding-top:10px;display:grid;gap:6px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]   .q[_ngcontent-%COMP%]{display:grid;grid-template-columns:24px 1fr;gap:8px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]   .q[_ngcontent-%COMP%]   .idx[_ngcontent-%COMP%]{font-weight:600;color:#374151}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]   .q[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]{color:#111827}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{color:#6b7280;font-size:13px;margin-top:2px}.all-page[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bundle-foot[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px dashed #e6e9ef;display:flex;justify-content:center;font-size:15px;color:#eb4f4f}.all-page[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:28px 6px 6px;text-align:center}.all-page[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}.all-page[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 900px){.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr auto}}@media (max-width: 700px){.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]{padding-bottom:10px;margin-top:45px}.all-page[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var hi=["mat-internal-form-field",""],vi=["*"],na=(()=>{class i{labelPosition;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(t,n){t&2&&T("mdc-form-field--align-end",n.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:hi,ngContentSelectors:vi,decls:1,vars:0,template:function(t,n){t&1&&(Q(),W(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var xi=["input"],Ci=["formField"],yi=["*"],st=class{source;value;constructor(a,e){this.source=a,this.value=e}},Mi={provide:ln,useExisting:Ut(()=>Dt),multi:!0},aa=new H("MatRadioGroup"),Pi=new H("mat-radio-default-options",{providedIn:"root",factory:Oi});function Oi(){return{color:"accent",disabledInteractive:!1}}var Dt=(()=>{class i{_changeDetector=g(se);_value=null;_name=g(De).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new D;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new st(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=$({type:i,selectors:[["mat-radio-group"]],contentQueries:function(t,n,s){if(t&1&&ne(s,lt,5),t&2){let d;k(d=E())&&(n._radios=d)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",w],required:[2,"required","required",w],disabledInteractive:[2,"disabledInteractive","disabledInteractive",w]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[ie([Mi,{provide:aa,useExisting:i}])]})}return i})(),lt=(()=>{class i{_elementRef=g(z);_changeDetector=g(se);_focusMonitor=g(Mt);_radioDispatcher=g(Gn);_defaultOptions=g(Pi,{optional:!0});_ngZone=g(te);_renderer=g(Se);_uniqueId=g(De).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new D;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=xe();_injector=g(Te);constructor(){g(Ye).load(Ze);let e=g(aa,{optional:!0}),t=g(new xt("tabindex"),{optional:!0});this.radioGroup=e,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,t&&(this.tabIndex=le(t,0))}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new st(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,t;if(!e||!e.selected||this.disabled?t=this.tabIndex:t=e.selected===this?this.tabIndex:-1,t!==this._previousTabIndex){let n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",t+""),this._previousTabIndex=t,de(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===n&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===n&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["mat-radio-button"]],viewQuery:function(t,n){if(t&1&&(F(xi,5),F(Ci,7,z)),t&2){let s;k(s=E())&&(n._inputElement=s.first),k(s=E())&&(n._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(t,n){t&1&&h("focus",function(){return n._inputElement.nativeElement.focus()}),t&2&&(S("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),T("mat-primary",n.color==="primary")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("mat-mdc-radio-checked",n.checked)("mat-mdc-radio-disabled",n.disabled)("mat-mdc-radio-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",w],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:le(e)],checked:[2,"checked","checked",w],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",w],required:[2,"required","required",w],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",w]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:yi,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(t,n){if(t&1){let s=M();Q(),r(0,"div",2,0)(2,"div",3)(3,"div",4),h("click",function(p){return b(s),f(n._onTouchTargetClick(p))}),o(),r(4,"input",5,1),h("change",function(p){return b(s),f(n._onInputInteraction(p))}),o(),r(6,"div",6),x(7,"div",7)(8,"div",8),o(),r(9,"div",9),x(10,"div",10),o()(),r(11,"label",11),W(12),o()()}t&2&&(m("labelPosition",n.labelPosition),c(2),T("mdc-radio--disabled",n.disabled),c(2),m("id",n.inputId)("checked",n.checked)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),S("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),c(5),m("matRippleTrigger",n._rippleTrigger.nativeElement)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),c(2),m("for",n.inputId))},dependencies:[Ne,na],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return i})(),ia=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=U({type:i});static \u0275inj=j({imports:[Ce,On,lt,Ce]})}return i})();var oa=i=>({"--cols":i});function ki(i,a){if(i&1&&(Re(0),r(1,"span",13),l(2),o(),Ae()),i&2){let e=u().$implicit;c(2),v(e.examRules)}}function Ei(i,a){if(i&1&&(r(0,"div",24),l(1),o()),i&2){let e=a.$implicit;c(),v(e)}}function Ii(i,a){if(i&1&&(r(0,"div",30),x(1,"mat-radio-button",31),o()),i&2){let e=a.index;c(),m("value",e)}}function Ti(i,a){if(i&1&&(Re(0),r(1,"div",25)(2,"div",26),l(3),o(),r(4,"div",27),l(5),o()(),r(6,"mat-radio-group",28),_(7,Ii,2,1,"div",29),o(),Ae()),i&2){let e=a.$implicit,t=a.index,n=u(2).index,s=u(2);c(3),C("",t+1,"."),c(2),v(e.text),c(),m("formControl",s.selectionsArray(n).at(t)),c(),m("ngForOf",e.options)}}function Si(i,a){if(i&1){let e=M();r(0,"form",14)(1,"div",15),x(2,"div",16),_(3,Ei,2,1,"div",17),o(),r(4,"div",18),_(5,Ti,8,4,"ng-container",19),o(),r(6,"div",20)(7,"div",21)(8,"strong"),l(9,"Nota total:"),o(),r(10,"span"),l(11),o()(),r(12,"div",22)(13,"button",23),h("click",function(){b(e);let n=u().index,s=u(2);return f(s.submitAnswers(n))}),l(14," Enviar respostas "),r(15,"mat-icon"),l(16,"send"),o()()()()()}if(i&2){let e=u(),t=e.$implicit,n=e.index,s=u(2);m("formGroup",s.forms[n]),c(),m("ngStyle",K(6,oa,(t.questions==null||t.questions[0]==null||t.questions[0].options==null?null:t.questions[0].options.length)??3)),c(2),m("ngForOf",s.optionHeaders(n)),c(),m("ngStyle",K(8,oa,(t.questions==null||t.questions[0]==null||t.questions[0].options==null?null:t.questions[0].options.length)??3)),c(),m("ngForOf",t.questions),c(6),C("",s.selectedTotal(n)," pontos")}}function Fi(i,a){if(i&1&&(r(0,"div",4)(1,"h1",5),l(2),o(),r(3,"p",6),l(4," Antes de enviar este formul\xE1rio, leia atentamente as orienta\xE7\xF5es da prova abaixo. Ap\xF3s o envio, a nota ser\xE1 final e n\xE3o poder\xE1 ser alterada. "),o(),x(5,"mat-divider"),r(6,"div",7)(7,"div",8),l(8,"Regras e orienta\xE7\xF5es"),o(),r(9,"div",9),_(10,ki,3,1,"ng-container",10),o()(),r(11,"div",7)(12,"h2",11),l(13,"Caso cl\xEDnico"),o(),r(14,"p",9),l(15),o()(),_(16,Si,17,10,"form",12),o()),i&2){let e=a.$implicit;c(2),v(e.examName||"Prova"),c(8),m("ngIf",e.examRules),c(5),v(e.clinicalCase),c(),m("ngIf",e.questions==null?null:e.questions.length)}}function Ri(i,a){if(i&1&&(r(0,"div",2),_(1,Fi,17,4,"div",3),o()),i&2){let e=u();c(),m("ngForOf",e.exams)}}function Ai(i,a){i&1&&(r(0,"div",2)(1,"div",4)(2,"h2"),l(3,"Prova n\xE3o encontrada"),o(),r(4,"p"),l(5,"Verifique o link recebido."),o(),r(6,"button",32),l(7,"Criar nova prova"),o()()())}var ct=class i{constructor(a,e,t,n){this.route=a;this.router=e;this.fb=t;this.snack=n}STORAGE_KEY="generatedExams";sub;examId;groupId;exams=[];forms=[];ngOnInit(){this.sub=this.route.queryParamMap.subscribe(a=>{let e=a.get("examId"),t=a.get("groupId");this.examId=e?Number(e):void 0,this.groupId=t?Number(t):void 0;let n=this.loadFromStorage();if(this.groupId&&!Number.isNaN(this.groupId))this.exams=n.filter(s=>(s.groupId??s.id)===this.groupId);else if(this.examId&&!Number.isNaN(this.examId)){let s=n.find(d=>d.id===this.examId);this.exams=s?[s]:[]}else this.exams=[];if(!this.exams.length){this.snack.open("Prova n\xE3o encontrada.","Ok",{duration:2500}),this.router.navigate(["/private/nova-prova"]);return}this.exams=this.exams.map(s=>Lt(Nt({},s),{questions:s.questions&&s.questions.length?s.questions:(s.items||[]).map(d=>({text:d.text,options:d.options||[],totalPoints:d.totalPoints||0}))})),this.buildForms()})}ngOnDestroy(){this.sub?.unsubscribe()}loadFromStorage(){try{let a=localStorage.getItem(this.STORAGE_KEY);return a?JSON.parse(a):[]}catch{return[]}}buildForms(){this.forms=this.exams.map(a=>{let e=this.fb.array((a.questions||[]).map(()=>this.fb.control(null,y.required)));return this.fb.nonNullable.group({selections:e})})}selectionsArray(a){return this.forms[a].controls.selections}optionHeaders(a){let e=this.exams[a];return!e||!e.questions?.length?[]:(e.questions[0].options||[]).map(n=>`${n.value??0} pontos`)}selectedTotal(a){let e=this.exams[a];return!e||!e.questions?.length?0:this.selectionsArray(a).controls.reduce((n,s,d)=>{let p=s.value??-1,O=e.questions[d].options[p]?.value??0;return n+Number(O)},0)}submitAnswers(a){let e=this.exams[a],t=this.forms[a];if(!e||!t)return;if(t.invalid){t.markAllAsTouched(),this.snack.open("Selecione uma op\xE7\xE3o para cada quest\xE3o.","Ok",{duration:2500});return}let n=this.selectionsArray(a),s={examId:e.id,groupId:e.groupId??e.id,submittedAt:new Date().toISOString(),answers:n.controls.map((d,p)=>({questionIndex:p,selectedOptionIndex:d.value,points:e.questions[p].options[d.value]?.value??0})),total:this.selectedTotal(a)};try{let d="examResponses",p=localStorage.getItem(d),O=p?JSON.parse(p):[];O.unshift(s),localStorage.setItem(d,JSON.stringify(O))}catch{}this.snack.open("Respostas enviadas!","Ok",{duration:2500}),this.router.navigate(["/private/resultado-prova"],{queryParams:{examId:e.id,groupId:e.groupId??void 0}})}static \u0275fac=function(e){return new(e||i)(I(We),I(rn),I(ve),I(J))};static \u0275cmp=P({type:i,selectors:[["app-answer-exam"]],standalone:!1,decls:3,vars:2,consts:[["notFound",""],["class","answer-page",4,"ngIf","ngIfElse"],[1,"answer-page"],["class","paper",4,"ngFor","ngForOf"],[1,"paper"],[1,"title"],[1,"disclaimer"],[1,"case-block"],[1,"required"],[1,"case-text"],[4,"ngIf"],[1,"case-title"],["class","answers-form",3,"formGroup",4,"ngIf"],[1,"rules-text"],[1,"answers-form",3,"formGroup"],[1,"grid","header-row",3,"ngStyle"],[1,"cell","qcell","header"],["class","cell ocell header",4,"ngFor","ngForOf"],[1,"grid","body-rows",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"footer-line"],[1,"totals"],[1,"actions"],["mat-stroked-button","","color","primary","type","button",3,"click"],[1,"cell","ocell","header"],[1,"cell","qcell"],[1,"qindex"],[1,"qtext"],[1,"row-radios",3,"formControl"],["class","cell ocell",4,"ngFor","ngForOf"],[1,"cell","ocell"],[3,"value"],["mat-stroked-button","","color","primary","routerLink","/private/nova-prova"]],template:function(e,t){if(e&1&&_(0,Ri,2,1,"div",1)(1,Ai,8,0,"ng-template",null,0,Ue),e&2){let n=ae(2);m("ngIf",t.exams==null?null:t.exams.length)("ngIfElse",n)}},dependencies:[G,N,tn,Y,q,V,fe,Z,be,X,mn,he,Dt,lt],styles:[".answer-page[_ngcontent-%COMP%]{background:#f2f2f2 url(/assets/bg-blur.jpg) no-repeat center/cover;min-height:100vh;padding:24px}.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]{max-width:960px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 8px 24px #00000014;padding:24px 28px}.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%] + .paper[_ngcontent-%COMP%]{margin-top:24px}.answer-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 14px;font-weight:700}.answer-page[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{color:#70757a;margin:4px 0 16px}.answer-page[_ngcontent-%COMP%]   .case-block[_ngcontent-%COMP%]{margin:16px 0 20px}.answer-page[_ngcontent-%COMP%]   .case-block[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#d93025;text-decoration:underline;font-size:13px;margin-bottom:6px}.answer-page[_ngcontent-%COMP%]   .case-block[_ngcontent-%COMP%]   .case-title[_ngcontent-%COMP%]{margin:0 0 6px;text-decoration:underline;cursor:default}.answer-page[_ngcontent-%COMP%]   .case-block[_ngcontent-%COMP%]   .case-text[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e0e4ea;border-radius:8px;padding:12px;line-height:1.55}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]{margin-top:10px}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr repeat(var(--cols),1fr);gap:0}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{font-weight:600;color:#5f6368;padding:12px 10px;background:#f1f3f4;border-top:1px solid #e6e9ef;border-bottom:1px solid #e6e9ef}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .body-rows[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:16px 10px;border-bottom:1px solid #eef1f6;background:#fff}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .qcell[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-start}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .qcell[_ngcontent-%COMP%]   .qindex[_ngcontent-%COMP%]{font-weight:600;color:#3c4043}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .qcell[_ngcontent-%COMP%]   .qtext[_ngcontent-%COMP%]{color:#202124}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .row-radios[_ngcontent-%COMP%]{display:contents}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .ocell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .ocell[_ngcontent-%COMP%]     .mat-radio-container{transform:scale(1.1)}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .footer-line[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0 4px;gap:12px}.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .footer-line[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]{color:#202124;display:flex;align-items:baseline;gap:8px}@media (max-width: 700px){.answer-page[_ngcontent-%COMP%]   .answers-form[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr repeat(var(--cols),56px)}}"]})};var Di=i=>({examId:i});function Ni(i,a){i&1&&(r(0,"div",6)(1,"p"),l(2,"Nenhuma prova finalizada encontrada."),o(),r(3,"a",7),l(4," Criar nova prova "),o()())}function Li(i,a){if(i&1&&(r(0,"span",15)(1,"mat-icon"),l(2,"schedule"),o(),l(3),re(4,"date"),o()),i&2){let e=u().$implicit;c(3),C(" \xFAltimo envio ",_e(4,1,e.stats.lastAt,"short")," ")}}function Bi(i,a){if(i&1){let e=M();r(0,"div",26)(1,"div",27)(2,"mat-icon"),l(3,"person"),o(),r(4,"div",28)(5,"div",29),l(6),re(7,"date"),o()()(),r(8,"div",30)(9,"div",31)(10,"strong"),l(11),o(),l(12),r(13,"span",32),l(14),o()(),r(15,"button",33),h("click",function(){let n=b(e).$implicit,s=u().$implicit,d=u(2);return f(d.printSubmission(s.exam,n))}),r(16,"mat-icon"),l(17,"print"),o(),l(18," Imprimir PDF "),o()()()}if(i&2){let e=a.$implicit,t=u().$implicit,n=u(2);c(6),C("Enviado em ",_e(7,4,e.submittedAt,"short")),c(5),v(e.total),c(),C(" / ",t.stats.max," "),c(2),C("(",n.percent(e.total,t.stats.max),")")}}function Gi(i,a){if(i&1&&(r(0,"div",10)(1,"div",11)(2,"div",12)(3,"h2",13),l(4),o(),r(5,"div",14)(6,"span",15)(7,"mat-icon"),l(8,"event"),o(),l(9),re(10,"date"),o(),r(11,"span",15)(12,"mat-icon"),l(13,"quiz"),o(),l(14),o(),r(15,"span",15)(16,"mat-icon"),l(17,"score"),o(),l(18),o(),_(19,Li,5,4,"span",16),o()(),r(20,"div",17)(21,"a",18)(22,"mat-icon"),l(23,"link"),o(),l(24," Abrir link p\xFAblico "),o(),r(25,"a",19),l(26," Responder novamente "),o()()(),r(27,"div",20)(28,"div",21)(29,"div",22),l(30,"Envios"),o(),r(31,"div",23),l(32),o()(),r(33,"div",21)(34,"div",22),l(35,"Valor da prova"),o(),r(36,"div",23),l(37),o()(),r(38,"div",21)(39,"div",22),l(40,"N\xFAmero de quest\xF5es"),o(),r(41,"div",23),l(42),o()()(),x(43,"mat-divider"),r(44,"div",24),_(45,Bi,19,7,"div",25),o()()),i&2){let e=a.$implicit,t=u(2);c(4),v(e.exam.examName||"Prova "+e.exam.id),c(5),C(" criada em ",_e(10,12,e.exam.createdAt,"short")," "),c(5),C(" ",e.exam.questions.length||e.exam.questionsCount||0," quest\xE3o(\xF5es) "),c(4),C(" m\xE1ximo ",e.stats.max," pts "),c(),m("ngIf",e.stats.lastAt),c(2),m("href",e.exam.shareUrl,ze),c(4),m("queryParams",K(15,Di,e.exam.id)),c(7),v(e.stats.count),c(5),v(e.stats.max),c(5),v(e.exam.questions.length||e.exam.questionsCount||0),c(3),m("ngForOf",e.submissions)("ngForTrackBy",t.trackBySub)}}function qi(i,a){if(i&1&&(r(0,"div",8),_(1,Gi,46,17,"div",9),o()),i&2){let e=u();c(),m("ngForOf",e.cards)("ngForTrackBy",e.trackByCard)}}var dt=class i{constructor(a){this.route=a}EXAMS_KEY="generatedExams";RESPONSES_KEY="examResponses";examIdFilter;cards=[];loaded=!1;ngOnInit(){this.route.queryParamMap.subscribe(a=>{let e=a.get("examId");this.examIdFilter=e?Number(e):void 0,this.load()})}load(){let a=this.safeGet(this.EXAMS_KEY,[]),e=this.safeGet(this.RESPONSES_KEY,[]);a.sort((s,d)=>d.id-s.id),e.sort((s,d)=>new Date(d.submittedAt).getTime()-new Date(s.submittedAt).getTime());let t=new Map;for(let s of e){if(this.examIdFilter&&s.examId!==this.examIdFilter)continue;let d=t.get(s.examId)||[];d.push(s),t.set(s.examId,d)}let n=[];for(let s of a){if(this.examIdFilter&&s.id!==this.examIdFilter)continue;let d=t.get(s.id)||[];if(!d.length)continue;let p=d.map(_t=>_t.total),O=Number(s.totalPoints??0),R=d.length,A=Math.max(...p),ce=Math.min(...p),L=Math.round(p.reduce((_t,sa)=>_t+sa,0)/R*10)/10,ut=d[0]?.submittedAt;n.push({exam:s,submissions:d,stats:{max:O,avg:L,best:A,worst:ce,count:R,lastAt:ut}})}this.cards=n,this.loaded=!0}safeGet(a,e){try{let t=localStorage.getItem(a);return t?JSON.parse(t):e}catch{return e}}percent(a,e){if(!e)return"0%";let t=Math.round(a/e*100);return`${isFinite(t)?t:0}%`}trackByCard=(a,e)=>e.exam.id;trackBySub=(a,e)=>`${e.examId}-${e.submittedAt}`;printSubmission(a,e){try{let t=window.open("","_blank","width=900,height=1000");if(!t)return;let n=new Date(e.submittedAt).toLocaleString(),s=new Date(a.createdAt).toLocaleString(),d=e.answers.map(R=>{let A=R.questionIndex+1,ce=a.questions[R.questionIndex]?.text||"",L=R.points??0;return`
            <tr>
              <td class="col-idx">${A}</td>
              <td class="col-text">${this.escapeHtml(ce)}</td>
              <td class="col-pts">${L}</td>
            </tr>`}).join(""),p=this.percent(e.total,a.totalPoints),O=`<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Resultado \u2014 ${this.escapeHtml(a.examName||"Prova")}</title>
  <style>
    *{box-sizing:border-box}
    body{font-family: Roboto, Arial, sans-serif; margin:0; color:#111827}
    .paper{max-width:920px; margin:0 auto; padding:28px}
    h1{margin:0 0 6px; font-size:22px}
    .muted{color:#6b7280; font-size:13px}
    .meta{display:flex; gap:10px; flex-wrap:wrap; margin:10px 0 14px}
    .chip{display:inline-flex; align-items:center; gap:6px; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:999px; padding:3px 10px; font-size:12px}
    .case{background:#f8f9fb; border:1px solid #e7ecf3; border-radius:8px; padding:10px; margin:10px 0 16px; white-space:pre-wrap}
    table{width:100%; border-collapse:collapse; margin-top:8px}
    thead th{background:#f1f3f4; text-align:left; padding:10px; border-bottom:1px solid #e5e7eb}
    tbody td{padding:10px; border-bottom:1px solid #eef1f6; vertical-align:top}
    .col-idx{width:48px; font-weight:600}
    .col-pts{width:120px; text-align:right; font-weight:600}
    .totals{display:flex; justify-content:flex-end; margin-top:12px; font-weight:700}
    @media print { .no-print { display:none } }
  </style>
</head>
<body>
  <div class="paper">
    <h1>${this.escapeHtml(a.examName||"Prova")}</h1>
    <div class="muted">Criada em ${this.escapeHtml(s)} \u2022 Envio em ${this.escapeHtml(n)}</div>

    <div class="meta">
      <span class="chip">Peso: ${a.totalPoints} pts</span>
      <span class="chip">Quest\xF5es: ${a.questions.length||a.questionsCount||0}</span>
      <span class="chip">Resultado: ${e.total} / ${a.totalPoints} (${p})</span>
    </div>
    <h3>Regras e Orienta\xE7\xF5es</h3>
    <div class="case">${this.escapeHtml(a.examRules||"")}</div>
    <h3>Caso Cl\xEDnico</h3>
    <div class="case">${this.escapeHtml(a.clinicalCase||"")}</div>

    <table>
      <thead>
        <tr>
          <th class="col-idx">#</th>
          <th>Enunciados</th>
          <th class="col-pts">Pontos</th>
        </tr>
      </thead>
      <tbody>
        ${d}
      </tbody>
    </table>

    <div class="totals">Total: ${e.total} / ${a.totalPoints}</div>
  </div>
  <script>
    window.onload = function(){
      window.print();
      setTimeout(() => window.close(), 300);
    }
  <\/script>
</body>
</html>`;t.document.open(),t.document.write(O),t.document.close()}catch{}}escapeHtml(a){return(a||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#039;")}static \u0275fac=function(e){return new(e||i)(I(We))};static \u0275cmp=P({type:i,selectors:[["app-exam-results"]],standalone:!1,decls:9,vars:2,consts:[[1,"answer-page"],[1,"paper"],[1,"title"],[1,"disclaimer"],["class","empty",4,"ngIf"],["class","results",4,"ngIf"],[1,"empty"],["mat-stroked-button","","color","primary","routerLink","/private/nova-prova"],[1,"results"],["class","exam-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"exam-card"],[1,"header-line"],[1,"titles"],[1,"exam-name"],[1,"meta"],[1,"chip"],["class","chip",4,"ngIf"],[1,"actions"],["mat-stroked-button","","color","primary","target","_blank","rel","noopener",3,"href"],["mat-button","","color","primary","routerLink","/private/responder-prova",3,"queryParams"],[1,"stats-row"],[1,"stat"],[1,"label"],[1,"value"],[1,"subs"],["class","sub",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sub"],[1,"left"],[1,"s-meta"],[1,"date"],[1,"right"],[1,"score"],[1,"pct"],["mat-stroked-button","","color","primary",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Resultado das provas"),o(),r(4,"p",3),l(5," Esta p\xE1gina lista apenas as provas com pelo menos um envio. Voc\xEA pode chegar aqui pelo menu \u201CResultados prova\u201D ou ap\xF3s enviar suas respostas. "),o(),x(6,"mat-divider"),_(7,Ni,5,0,"div",4)(8,qi,2,2,"div",5),o()()),e&2&&(c(7),m("ngIf",t.loaded&&!t.cards.length),c(),m("ngIf",t.cards.length))},dependencies:[G,N,Y,q,V,X,Qe],styles:[".answer-page[_ngcontent-%COMP%]{background:#f2f2f2 url(/assets/bg-blur.jpg) no-repeat center/cover;min-height:100vh;padding:24px}.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]{max-width:960px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 8px 24px #00000014;padding:24px 28px}.answer-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.answer-page[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{color:#70757a;margin:4px 0 16px}.answer-page[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:24px 0;display:grid;gap:12px;color:#5f6368}.answer-page[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:grid;gap:16px;margin-top:16px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]{border:1px solid #e6e9ef;border-radius:12px;background:#fff;padding:16px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .exam-name[_ngcontent-%COMP%]{margin:0}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:#f3f5fb;color:#1f2937}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#3f51b5}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;white-space:nowrap}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:8px 0 12px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e8ecf2;border-radius:10px;padding:10px 12px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:12px;margin-bottom:4px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;color:#111827}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;color:#6b7280;margin-left:6px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]{display:grid;gap:8px;padding-top:12px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#ededed;gap:12px;border:1px solid #eef1f6;border-radius:10px;padding:10px 12px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#64748b}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#374151}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:12px}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-weight:700;color:#111827}.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{margin-left:6px;font-weight:500;color:#6b7280}@media (max-width: 700px){.answer-page[_ngcontent-%COMP%]   .exam-card[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:35px}}"]})};function Vi(i,a){i&1&&(r(0,"mat-error"),l(1," Campo obrigat\xF3rio. "),o())}function Hi(i,a){i&1&&(r(0,"mat-error"),l(1," Campo obrigat\xF3rio. "),o())}function zi(i,a){i&1&&(r(0,"mat-error"),l(1," Informe um email v\xE1lido. "),o())}function $i(i,a){i&1&&(r(0,"mat-error"),l(1," M\xEDnimo de 6 caracteres. "),o())}function ji(i,a){i&1&&(r(0,"mat-error"),l(1," Selecione um perfil. "),o())}function Ui(i,a){i&1&&(r(0,"div",28)(1,"p"),l(2,"Nenhum usu\xE1rio cadastrado ainda."),o()())}function Qi(i,a){if(i&1){let e=M();r(0,"div",31)(1,"div",32)(2,"div",33),l(3),o(),r(4,"div",34)(5,"div",35),l(6),o(),r(7,"div",36),l(8),o(),r(9,"div",37),l(10),o()()(),r(11,"div",38)(12,"button",39),h("click",function(){let n=b(e).$implicit,s=u(2);return f(s.copyEmail(n.email))}),r(13,"mat-icon"),l(14,"content_copy"),o()(),r(15,"button",40),h("click",function(){let n=b(e).$implicit,s=u(2);return f(s.removeUser(n.id))}),r(16,"mat-icon"),l(17,"delete"),o()()()()}if(i&2){let e=a.$implicit,t=u(2);c(3),v(t.initials(e)),c(3),Xt("",e.firstName," ",e.lastName),c(2),v(e.email),c(2),C("Perfil: ",e.role)}}function Wi(i,a){if(i&1&&(r(0,"div",29),_(1,Qi,18,5,"div",30),o()),i&2){let e=u();c(),m("ngForOf",e.users)("ngForTrackBy",e.trackByUser)}}var mt=class i{constructor(a,e){this.fb=a;this.snack=e;this.form=this.fb.nonNullable.group({firstName:this.fb.control(null,[y.required,y.minLength(2)]),lastName:this.fb.control(null,[y.required,y.minLength(2)]),email:this.fb.control(null,[y.required,y.email]),password:this.fb.control(null,[y.required,y.minLength(6)]),role:this.fb.control(null,[y.required])})}STORAGE_KEY="users";form;users=[];showPass=!1;roles=[{value:"Professor",label:"Professor"},{value:"admin",label:"Admin"}];ngOnInit(){this.load()}load(){try{let a=localStorage.getItem(this.STORAGE_KEY);this.users=a?JSON.parse(a):[]}catch{this.users=[]}}persist(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.users))}catch{}}createUser(){if(this.form.invalid){this.form.markAllAsTouched(),this.snack.open("Revise os campos obrigat\xF3rios.","Ok",{duration:2500});return}let a=this.form.getRawValue(),e={id:Date.now(),createdAt:new Date().toISOString(),firstName:a.firstName.trim(),lastName:a.lastName.trim(),email:(a.email||"").trim().toLowerCase(),password:a.password||"",role:a.role};this.users.unshift(e),this.persist(),this.snack.open("Usu\xE1rio criado!","Ok",{duration:2e3}),this.form.reset()}removeUser(a){this.users=this.users.filter(e=>e.id!==a),this.persist(),this.snack.open("Usu\xE1rio removido.","Ok",{duration:1500})}copyEmail(a){navigator?.clipboard?.writeText?navigator.clipboard.writeText(a).then(()=>this.snack.open("E-mail copiado!","Ok",{duration:1500}),()=>this.snack.open("N\xE3o foi poss\xEDvel copiar.","Ok",{duration:1500})):window.prompt("Copie o e-mail:",a)!==null&&this.snack.open("E-mail copiado!","Ok",{duration:1500})}get uniqueEmails(){return new Set(this.users.map(a=>a.email)).size}get lastCreatedAt(){return this.users.length?this.users[0].createdAt:null}get professoresCount(){return this.users.filter(a=>(a.role??"").toLowerCase()==="professor").length}get adminsCount(){return this.users.filter(a=>(a.role??"").toLowerCase()==="admin").length}initials(a){let e=(a.firstName||"").trim().charAt(0).toUpperCase(),t=(a.lastName||"").trim().charAt(0).toUpperCase();return`${e}${t}`||"U"}trackByUser=(a,e)=>e.id;static \u0275fac=function(e){return new(e||i)(I(ve),I(J))};static \u0275cmp=P({type:i,selectors:[["app-user-panel"]],standalone:!1,decls:78,vars:14,consts:[[1,"answer-page"],[1,"paper"],[1,"title"],[1,"disclaimer"],[1,"grid-2"],[1,"card","user-form",3,"ngSubmit","formGroup"],[1,"section-title"],[1,"row2"],["appearance","outline"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","type","button","matSuffix","",3,"click"],["formControlName","role","required",""],["value","Professor"],["value","admin"],[1,"actions"],["mat-stroked-button","","color","primary","type","submit"],["mat-button","","type","button",3,"click"],[1,"stats-row"],[1,"stat"],[1,"label"],[1,"value"],[1,"card","list"],["class","empty",4,"ngIf"],["class","user-list",4,"ngIf"],[1,"empty"],[1,"user-list"],["class","user-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"user-row"],[1,"left"],[1,"avatar"],[1,"info"],[1,"name"],[1,"email"],[1,"date"],[1,"right"],["mat-icon-button","","matTooltip","Copiar email",3,"click"],["mat-icon-button","","color","warn","matTooltip","Remover",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Usu\xE1rios"),o(),r(4,"p",3),l(5," Cadastre novos usu\xE1rios e visualize a lista ao lado. Os dados s\xE3o salvos localmente (apenas para testes). "),o(),x(6,"mat-divider"),r(7,"div",4)(8,"form",5),h("ngSubmit",function(){return t.createUser()}),r(9,"h2",6)(10,"mat-icon"),l(11,"person_add"),o(),l(12," Novo usu\xE1rio "),o(),r(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),l(16,"Primeiro nome"),o(),x(17,"input",9),_(18,Vi,2,0,"mat-error",10),o(),r(19,"mat-form-field",8)(20,"mat-label"),l(21,"Sobrenome"),o(),x(22,"input",11),_(23,Hi,2,0,"mat-error",10),o()(),r(24,"mat-form-field",8)(25,"mat-label"),l(26,"Email"),o(),x(27,"input",12),_(28,zi,2,0,"mat-error",10),o(),r(29,"mat-form-field",8)(30,"mat-label"),l(31,"Senha"),o(),x(32,"input",13),r(33,"button",14),h("click",function(){return t.showPass=!t.showPass}),r(34,"mat-icon"),l(35),o()(),_(36,$i,2,0,"mat-error",10),o(),r(37,"mat-form-field",8)(38,"mat-label"),l(39,"Perfil"),o(),r(40,"mat-select",15)(41,"mat-option",16),l(42,"Professor"),o(),r(43,"mat-option",17),l(44,"Admin"),o()(),_(45,ji,2,0,"mat-error",10),o(),r(46,"div",18)(47,"button",19)(48,"mat-icon"),l(49,"check"),o(),l(50," Criar "),o(),r(51,"button",20),h("click",function(){return t.form.reset()}),r(52,"mat-icon"),l(53,"refresh"),o(),l(54," Limpar "),o()(),r(55,"div",21)(56,"div",22)(57,"div",23),l(58,"Usu\xE1rios cadastrados"),o(),r(59,"div",24),l(60),o()(),r(61,"div",22)(62,"div",23),l(63,"Professores"),o(),r(64,"div",24),l(65),o()(),r(66,"div",22)(67,"div",23),l(68,"Admin"),o(),r(69,"div",24),l(70),o()()()(),r(71,"div",25)(72,"h2",6)(73,"mat-icon"),l(74,"group"),o(),l(75," Lista de usu\xE1rios "),o(),_(76,Ui,3,0,"div",26)(77,Wi,2,2,"div",27),o()()()()),e&2&&(c(8),m("formGroup",t.form),c(10),m("ngIf",t.form.controls.firstName.touched&&t.form.controls.firstName.invalid),c(5),m("ngIf",t.form.controls.lastName.touched&&t.form.controls.lastName.invalid),c(5),m("ngIf",t.form.controls.email.touched&&t.form.controls.email.invalid),c(4),m("type",t.showPass?"text":"password"),c(),S("aria-label",t.showPass?"Ocultar senha":"Mostrar senha"),c(2),v(t.showPass?"visibility_off":"visibility"),c(),m("ngIf",t.form.controls.password.touched&&t.form.controls.password.invalid),c(9),m("ngIf",t.form.controls.role.touched&&t.form.controls.role.invalid),c(15),v(t.users.length),c(5),v(t.professoresCount),c(5),v(t.adminsCount),c(6),m("ngIf",!t.users.length),c(),m("ngIf",t.users.length))},dependencies:[G,N,Me,ye,Xe,Rn,Pe,ke,we,q,Je,V,fe,ge,Z,be,gn,X,he,Ke,Oe],styles:['@charset "UTF-8";.answer-page[_ngcontent-%COMP%]{background:#f2f2f2 url(/assets/bg-blur.jpg) no-repeat center/cover;min-height:100vh;padding:24px}.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 8px 24px #00000014;padding:24px 28px}.answer-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.answer-page[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{color:#70757a;margin:4px 0 16px}.answer-page[_ngcontent-%COMP%]   .grid-2[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:1.1fr 1fr}.answer-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #e6e9ef;border-radius:12px;background:#fff;padding:16px}.answer-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:inline-flex;gap:8px;font-weight:700;margin:0 0 10px}.answer-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]{display:grid;gap:10px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{display:grid;gap:10px;grid-template-columns:1fr 1fr}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;padding-top:4px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:8px 0 0}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e8ecf2;border-radius:10px;padding:10px 12px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:12px;margin-bottom:4px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;color:#111827}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:grid;gap:10px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:8px 0 2px;color:#5f6368}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]{display:grid;gap:8px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;border:1px solid #eef1f6;border-radius:10px;padding:10px 12px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:999px;background:#e9eefc;color:#1f2937;font-weight:700;display:inline-flex;align-items:center;justify-content:center;letter-spacing:.5px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:#111827}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#374151;font-size:13px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#6b7280;font-size:12px;margin-top:2px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:inline-flex;gap:6px}.answer-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#c75c5c}@media (max-width: 960px){.answer-page[_ngcontent-%COMP%]   .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 600px){.answer-page[_ngcontent-%COMP%]   .paper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:35px}.answer-page[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var Ki=[{path:"",component:at,children:[{path:"nova-prova",component:it},{path:"responder-prova",component:ct},{path:"todas-prova",component:rt},{path:"resultado-prova",component:dt},{path:"painel-usuario",component:mt}]}],pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=U({type:i});static \u0275inj=j({imports:[Ct.forChild(Ki),Ct]})};var ra=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=U({type:i});static \u0275inj=j({imports:[an,pt,An,Dn,zn,kn,Nn,bn,Ln,fn,ia,Hn,Vn,qn,Bn,Mn,Jn]})};export{ra as PrivateModule};
